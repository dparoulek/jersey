<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;1.&nbsp;Getting Started</title><link rel="stylesheet" href="http://jersey.java.net/documentation.css" type="text/css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="index.html" title="Jersey 1.11-SNAPSHOT User Guide"><link rel="up" href="index.html" title="Jersey 1.11-SNAPSHOT User Guide"><link rel="prev" href="preface.html" title="Preface"><link rel="next" href="jax-rs.html" title="Chapter&nbsp;2.&nbsp;Overview of JAX-RS 1.1.1"><script xmlns:fo="http://www.w3.org/1999/XSL/Format" type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3160303-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;1.&nbsp;Getting Started</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="preface.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="jax-rs.html">Next</a></td></tr></table><hr></div><div xmlns:fo="http://www.w3.org/1999/XSL/Format" style="float:right"><a href="http://jersey.java.net"><img src="http://jersey.java.net/images/Jersey_yellow.png"></a></div><small xmlns:fo="http://www.w3.org/1999/XSL/Format">Links: <a href="index.html">Table of Contents</a> | <a href="user-guide.html">Single HTML</a></small><div class="chapter" title="Chapter&nbsp;1.&nbsp;Getting Started"><div class="titlepage"><div><div><h2 class="title"><a name="getting-started"></a>Chapter&nbsp;1.&nbsp;Getting Started</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="getting-started.html#d4e45">1.1. Creating a root resource</a></span></dt><dt><span class="section"><a href="getting-started.html#d4e52">1.2. Deploying the root resource</a></span></dt><dt><span class="section"><a href="getting-started.html#d4e66">1.3. Testing the root resource</a></span></dt><dt><span class="section"><a href="getting-started.html#getting.started.created">1.4. Here's one Paul created earlier</a></span></dt></dl></div>
  

  <p>This chapter will present how to get started with Jersey using
the embedded Grizzly server. The last section of this chapter
presents a reference to equivalent functionality for getting started
with a Web application.</p>
<p>First, it is necessary to depend on the correct Jersey artifacts
as described in <a class="xref" href="chapter_deps.html" title="Chapter&nbsp;11.&nbsp;Dependencies">Chapter&nbsp;11, <i>Dependencies</i></a>
</p>
<p>Maven developers require a dependency on

</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">the <a class="ulink" href="https://maven.java.net/service/local/artifact/maven/redirect?r=releases&amp;g=com.sun.jersey&amp;a=jersey-server&amp;v=1.11-SNAPSHOT&amp;e=pom" target="_top">jersey-server</a> module, </li><li class="listitem">the <a class="ulink" href="https://maven.java.net/service/local/artifact/maven/redirect?r=releases&amp;g=com.sun.jersey&amp;a=jersey-grizzly2&amp;v=1.11-SNAPSHOT&amp;e=pom" target="_top">jersey-grizzly2</a> module, </li></ul></div><p>
 </p>
 <p>
   The following dependencies need to be added to the pom:
</p><pre class="programlisting">&lt;dependency&gt;
    &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;
    &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;
    &lt;version&gt;1.11-SNAPSHOT&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;
    &lt;artifactId&gt;jersey-grizzly2&lt;/artifactId&gt;
    &lt;version&gt;1.11-SNAPSHOT&lt;/version&gt;
&lt;/dependency&gt;</pre>

    <p>If you want to depend on Jersey snapshot versions the following repository needs to be added to the pom:
    </p><pre class="programlisting">&lt;repository&gt;
    &lt;id&gt;snapshot-repository.java.net&lt;/id&gt;
    &lt;name&gt;Java.net Snapshot Repository for Maven&lt;/name&gt;
    &lt;url&gt;https://maven.java.net/content/repositories/snapshots/&lt;/url&gt;
    &lt;layout&gt;default&lt;/layout&gt;
&lt;/repository&gt;</pre>

<p>
Non-maven developers require:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><a class="ulink" href="http://search.maven.org/remotecontent?filepath=org/glassfish/grizzly/grizzly-http-server/2.1.2/grizzly-http-server-2.1.2.jar" target="_top">grizzly-http-server.jar</a>,</li><li class="listitem"><a class="ulink" href="http://search.maven.org/remotecontent?filepath=org/glassfish/grizzly/grizzly-http/2.1.2/grizzly-http-2.1.2.jar" target="_top">grizzly-http.jar</a>,</li><li class="listitem"><a class="ulink" href="https://maven.java.net/service/local/artifact/maven/redirect?r=releases&amp;g=com.sun.jersey&amp;a=jersey-server&amp;v=1.11-SNAPSHOT&amp;e=jar" target="_top">jersey-server.jar</a>,</li><li class="listitem"><a class="ulink" href="https://maven.java.net/service/local/artifact/maven/redirect?r=releases&amp;g=com.sun.jersey&amp;a=jersey-grizzly2&amp;v=1.11-SNAPSHOT&amp;e=jar" target="_top">jersey-grizzly2.jar</a>,</li><li class="listitem"><a class="ulink" href="https://maven.java.net/service/local/artifact/maven/redirect?r=releases&amp;g=com.sun.jersey&amp;a=jersey-core&amp;v=1.11-SNAPSHOT&amp;e=jar" target="_top">jersey-core.jar</a>,</li><li class="listitem"><a class="ulink" href="http://search.maven.org/remotecontent?filepath=javax/ws/rs/jsr311-api/1.1.1/jsr311-api-1.1.1.jar" target="_top">jsr311-api.jar</a>,</li><li class="listitem"><a class="ulink" href="http://search.maven.org/remotecontent?filepath=asm/asm/3.3.1/asm-3.3.1.jar" target="_top">asm.jar</a></li></ul></div>
<p>For Ant
developers the <a class="ulink" href="http://maven.apache.org/ant-tasks.html" target="_top">Ant
Tasks for Maven</a> may be used to add the following to the ant
document such that the dependencies do not need to be downloaded
explicitly:</p>
<pre class="programlisting">&lt;artifact:dependencies pathId="dependency.classpath"&gt;
  &lt;dependency groupId="com.sun.jersey"
              artifactId="jersey-server"
              version="1.11-SNAPSHOT"/&gt;
  &lt;dependency groupId="com.sun.jersey"
              artifactId="jersey-grizzly2"
              version="1.11-SNAPSHOT"/&gt;             
  &lt;dependency groupId="org.glassfish.grizzly"
              artifactId="grizzly-http-server"
              version="2.1.2"/&gt;
  &lt;dependency groupId="org.glassfish.grizzly"
              artifactId="grizzly-http"
              version="2.1.2"/&gt;
  &lt;artifact:remoteRepository id="maven-repository.java.net"
                             url="http://maven.java.net/" /&gt;
  &lt;artifact:remoteRepository id="maven1-repository.java.net"
                             url="http://download.java.net/maven/1"
                             layout="legacy" /&gt;
&lt;/artifact:dependencies&gt;</pre>

<p>
The path id &#8220;dependency.classpath&#8221; may then be referenced as the
classpath to be used for compiling or executing.</p>
<p>Second, create a new project (using your favourite IDE or just
ant/maven) and add the dependences. (For those who want to skip the
creation of their own project take a look at <a class="xref" href="getting-started.html#getting.started.created" title="1.4.&nbsp;Here's one Paul created earlier">Section&nbsp;1.4, &#8220;Here's one Paul created earlier&#8221;</a>
</p>

<div class="section" title="1.1.&nbsp;Creating a root resource"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e45"></a>1.1.&nbsp;Creating a root resource</h2></div></div></div>

<p>Create the following Java class in your project:</p>
<pre class="programlisting">&nbsp;&nbsp;1     // The Java class will be hosted at the URI path "/helloworld"
&nbsp;&nbsp;2     @Path("/helloworld")
&nbsp;&nbsp;3     public class HelloWorldResource {
&nbsp;&nbsp;4     
&nbsp;&nbsp;5         // The Java method will process HTTP GET requests
&nbsp;&nbsp;6         @GET 
&nbsp;&nbsp;7         // The Java method will produce content identified by the MIME Media
&nbsp;&nbsp;8         // type "text/plain"
&nbsp;&nbsp;9         @Produces("text/plain")
&nbsp;10         public String getClichedMessage() {
&nbsp;11             // Return some cliched textual content
&nbsp;12             return "Hello World";
&nbsp;13         }
&nbsp;14     }</pre><p>
The <code class="literal">HelloWorldResource</code> class is a very simple Web
resource. The URI path of the resource is "/helloworld"
(line 2), it supports the HTTP GET method (line 6) and produces
cliched textual content (line 12) of the MIME media type "text/plain"
(line 9).</p>
<p>Notice the use of Java annotations to declare the URI path, the
HTTP method and the media type. This is a key feature of JSR 311.</p>
</div>

<div class="section" title="1.2.&nbsp;Deploying the root resource"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e52"></a>1.2.&nbsp;Deploying the root resource</h2></div></div></div>

<p>The root resource will be deployed using the Grizzly Web
container.</p>
<p>Create the following Java class in your project:</p>
<pre class="programlisting">&nbsp;&nbsp;1 import com.sun.jersey.api.container.grizzly2.GrizzlyServerFactory;
&nbsp;&nbsp;2 import com.sun.jersey.api.core.DefaultResourceConfig;
&nbsp;&nbsp;3 import com.sun.jersey.api.core.PackagesResourceConfig;
&nbsp;&nbsp;4 import com.sun.jersey.api.core.ResourceConfig;
&nbsp;&nbsp;5 import org.glassfish.grizzly.http.server.HttpServer;
&nbsp;&nbsp;6 
&nbsp;&nbsp;7 import javax.ws.rs.core.UriBuilder;
&nbsp;&nbsp;8 import java.io.IOException;
&nbsp;&nbsp;9 import java.net.URI;
&nbsp;10 import java.util.HashMap;
&nbsp;11 import java.util.Map;
&nbsp;12 import java.util.Map.Entry;
&nbsp;13 
&nbsp;14 public class Main {
&nbsp;15 
&nbsp;16     private static URI getBaseURI() {
&nbsp;17         return UriBuilder.fromUri("http://localhost/").port(9998).build();
&nbsp;18     }
&nbsp;19 
&nbsp;20     public static final URI BASE_URI = getBaseURI();
&nbsp;21 
&nbsp;22     protected static HttpServer startServer() throws IOException {
&nbsp;23         System.out.println("Starting grizzly...");
&nbsp;24         ResourceConfig rc = new PackagesResourceConfig("com.sun.jersey.samples.helloworld.resources");
&nbsp;25         return GrizzlyServerFactory.createHttpServer(BASE_URI, rc);
&nbsp;26     }
&nbsp;27     
&nbsp;28     public static void main(String[] args) throws IOException {
&nbsp;29         HttpServer httpServer = startServer();
&nbsp;30         System.out.println(String.format("Jersey app started with WADL available at "
&nbsp;31                 + "%sapplication.wadl\nTry out %shelloworld\nHit enter to stop it...",
&nbsp;32                 BASE_URI, BASE_URI));
&nbsp;33         System.in.read();
&nbsp;34         httpServer.stop();
&nbsp;35     }    
&nbsp;36 }</pre><p>
The <code class="literal">Main</code> class deploys the <code class="literal">HelloWorldResource</code>
using the Grizzly Web container.</p>
<p>Line 24 creates an initialization parameter that informs the
Jersey runtime where to search for root resource classes to be
deployed. In this case it assumes the root resource class in the
package <code class="literal">com.sun.jersey.samples.helloworld.resources</code>
(or in a sub-package of).</p>
<p>Line 25 deploys the root resource to the base URI
"<a class="ulink" href="http://localhost:9998/" target="_top">http://localhost:9998/</a>"
and returns a Grizzly HttpServer. The complete URI of the Hello
World root resource is "<a class="ulink" href="http://localhost:9998/helloworld" target="_top">http://localhost:9998/helloworld</a>".</p>
<p>Notice that no deployment descriptors were needed and the root
resource was setup in a few statements of Java code.</p>
</div>

<div class="section" title="1.3.&nbsp;Testing the root resource"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e66"></a>1.3.&nbsp;Testing the root resource</h2></div></div></div>

<p>Goto the URI <a class="ulink" href="http://localhost:9998/helloworld" target="_top">http://localhost:9998/helloworld</a>
in your favourite browser.</p>
<p>Or, from the command line use <code class="literal">curl</code>:
</p><pre class="programlisting">&gt; curl http://localhost:9998/helloworld</pre><p>
</p>
</div>

<div class="section" title="1.4.&nbsp;Here's one Paul created earlier"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="getting.started.created"></a>1.4.&nbsp;Here's one Paul created earlier</h2></div></div></div>

<p>The example code presented above is shipped as the <a class="ulink" href="https://maven.java.net/service/local/artifact/maven/redirect?r=releases&amp;g=com.sun.jersey.samples&amp;a=helloworld&amp;v=1.11-SNAPSHOT&amp;c=project&amp;e=zip" target="_top">HelloWorld</a>
sample in the Java.Net maven repository.</p>
<p>For developers wishing to get started by deploying a Web
application an equivalent sample, as a Web application, is shipped as
the <a class="ulink" href="https://maven.java.net/service/local/artifact/maven/redirect?r=releases&amp;g=com.sun.jersey.samples&amp;a=helloworld-webapp&amp;v=1.11-SNAPSHOT&amp;c=project&amp;e=zip" target="_top">HelloWorld-WebApp</a>
sample.</p>
</div>

</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="preface.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="jax-rs.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Preface&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;2.&nbsp;Overview of JAX-RS 1.1.1</td></tr></table></div></body></html>